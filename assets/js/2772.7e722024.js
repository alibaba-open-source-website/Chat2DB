"use strict";(self.webpackChunkchat_2_db=self.webpackChunkchat_2_db||[]).push([[2772,7987],{87987:(t,i,s)=>{s.r(i),s.d(i,{dyte_spotlight_grid:()=>r});var e=s(65733),h=s(37692),d=s(26449),n=s(96633),o=s(20336),a=s(85371);const r=class{constructor(t){(0,e.r)(this,t),this.getAdaptiveSize=t=>"sm"===this.size||t>3||"md"===this.size?"sm":"md",this.layout="row",this.participants=[],this.pinnedParticipants=[],this.aspectRatio="16:9",this.gap=8,this.size=void 0,this.meeting=void 0,this.states=void 0,this.config=h.d,this.iconPack=n.d,this.t=(0,o.u)(),this.gridSize=d.d}render(){const t={meeting:this.meeting,config:this.config,states:this.states,size:this.size,iconPack:this.iconPack,t:this.t},i=this.participants.filter((t=>this.pinnedParticipants.some((i=>i.id!=t.id))));return(0,e.h)(e.H,null,(0,e.h)("main",{part:"main"},(0,e.h)(a.R,{element:"dyte-simple-grid",defaults:t,props:{part:"main-grid",participants:this.pinnedParticipants,aspectRatio:this.aspectRatio,gap:this.gap,size:this.getAdaptiveSize(this.pinnedParticipants.length)}})),i.length>0&&(0,e.h)("aside",{part:"aside",class:this.gridSize.spotlight?`grid-width-${this.gridSize.spotlight}`:"grid-width-md"},(0,e.h)(a.R,{element:"dyte-simple-grid",defaults:t,props:{part:"aside-grid",participants:i,aspectRatio:this.aspectRatio,gap:this.gap,size:this.getAdaptiveSize(i.length)}})))}get host(){return(0,e.g)(this)}};r.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{display:flex;height:100%;width:100%}main{flex:1 1 0%}.grid-width-sm{width:25%}.grid-width-md{width:50%}.grid-width-lg{width:66.666667%}:host([size='sm']),:host([size='md']){flex-direction:column}:host([size='md']) aside{max-height:var(--dyte-space-96, 384px);width:100%;max-width:100%}:host([size='md']) .grid-width-sm{height:25%}:host([size='md']) .grid-width-md{height:50%}:host([size='md']) .grid-width-lg{height:66.666667%}:host([size='sm']) aside{max-height:var(--dyte-space-96, 384px);width:100%;max-width:100%}:host([size='sm']) .grid-width-sm,:host([size='sm']) .grid-width-md,:host([size='sm']) .grid-width-lg{height:50%}:host([size='xl']) .grid-width-sm,:host([size='xl']) .grid-width-md,:host([size='xl']) .grid-width-lg{width:400px}:host([layout='column']){flex-direction:column}:host([layout='column']) main{flex:4}:host([layout='column']) aside{flex:2;max-width:100%;width:100%}"},26449:(t,i,s)=>{function e({dimensions:t,count:i,aspectRatio:s,gap:e}){const{width:d,height:n,rows:o,cols:a}=function({count:t,dimensions:i,aspectRatio:s,gap:e}){let{width:d,height:n}=i;if(0===d||0===n)return{width:0,height:0,rows:1,cols:1};d-=2*e,n-=2*e;const o=e,a=t,r=h(s);let g=0,p=0,c=1,l=1;const m=[];for(let h=1;h<=a;h++)m.push((d-o*(h-1))/h),m.push((n-o*(h-1))/(h*r));m.sort(((t,i)=>i-t));for(const h of m)if(g=h,p=g*r,c=Math.floor((d+o)/(g+o)),l=Math.floor((n+o)/(p+o)),c*l>=a){l=Math.ceil(a/c);break}return{width:g,height:p,rows:l,cols:c}}({dimensions:t,count:i,aspectRatio:s,gap:e}),r=function({parentDimensions:t,dimensions:i,rows:s,cols:e,count:h,gap:d}){const{width:n,height:o}=t,{width:a,height:r}=i,g=(o-(r*s+(s-1)*d))/2;let p=(n-(a*e+(e-1)*d))/2;const c=r+d,l=a+d;let m=0,u=0;const w=h%e;function f(t){const i=h-t;i===w&&(p=(n-(a*i+(i-1)*d))/2);const s=g+u*c,o=p+m*l;return m++,(t+1)%e==0&&(u++,m=0),{top:s,left:o}}return f}({parentDimensions:t,dimensions:{width:d,height:n},rows:o,cols:a,count:i,gap:e});return{width:d,height:n,getPosition:r}}s.d(i,{d:()=>d,u:()=>e});const h=t=>{const[i,s]=t.split(":");return Number.parseInt(s)/Number.parseInt(i)},d={spotlight:"sm",mixed:"sm"}}}]);